import{r as e,j as o}from"./vendor-react-C6q2kUTV.js";import{s as r}from"./lib-supabase-DE3igQm5.js";import"./vendor-other-DNtCu_aW.js";import"./vendor-radix-1jqlrV-B.js";import"./vendor-supabase-core-CHKCHvTl.js";import"./vendor-supabase-Dzta5LwM.js";import"./lib-performance-J6WSP3tJ.js";import"./vendor-supabase-auth-DS9P1e1f.js";const t=({open:t,onClose:l,plano:a="mensal"})=>{const[s,n]=e.useState(""),[d,i]=e.useState(""),[u,c]=e.useState(""),[m,p]=e.useState(""),[b,x]=e.useState(!1),[f,h]=e.useState(null),[y,g]=e.useState(null);if(!t)return null;const v="#111",j="#111",C="#fff",N="#111",w="#111",k="#111",S="#84CC15",T="mensal"===a?"Mensal":"anual"===a?"Anual":"pro"===a?"Pro":"Orçamento personalizado";return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-80",children:o.jsxs("div",{className:"relative w-full max-w-md rounded-xl border-2",style:{borderColor:v,background:"#fff"},children:[o.jsx("button",{onClick:l,className:"absolute right-4 top-4 text-2xl font-bold focus:outline-none",style:{color:j,transition:"color 0.2s"},"aria-label":"Fechar",children:"×"}),o.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),h(null),g(null),!s||!d||!u)return void h("Preencha todos os campos obrigatórios.");x(!0);const{error:o}=await r.from("leads").insert([{nome:s,email:d,whatsapp:u,instagram:m,plano:T}]);x(!1),o?h("Erro ao enviar. Tente novamente."):(g("Formulário enviado para o plano: "+T),setTimeout(()=>{const e=encodeURIComponent(`Olá! Meu nome é ${s} e quero saber mais sobre o plano ${T}.`);window.location.href="https://wa.me/5584999810711?text="+e,l()},1200))},className:"flex flex-col gap-5 p-8",children:[o.jsx("h2",{className:"text-2xl font-bold mb-2",style:{color:j},children:"Solicite seu site"}),o.jsxs("div",{className:"mb-2 text-sm font-semibold",style:{color:S},children:["Plano selecionado: ",T]}),o.jsx("input",{type:"hidden",name:"plano",value:T}),o.jsxs("label",{className:"text-sm font-medium",style:{color:w},children:["Nome*",o.jsx("input",{type:"text",value:s,onChange:e=>n(e.target.value),className:"mt-1 w-full rounded-md px-4 py-2 border-2 focus:outline-none transition placeholder:text-[#555] border-[#111] focus:border-[#111]",style:{background:C,color:N,borderColor:v},placeholder:"Seu nome",required:!0})]}),o.jsxs("label",{className:"text-sm font-medium",style:{color:w},children:["Email*",o.jsx("input",{type:"email",value:d,onChange:e=>i(e.target.value),className:"mt-1 w-full rounded-md px-4 py-2 border-2 focus:outline-none transition placeholder:text-[#555] border-[#111] focus:border-[#111]",style:{background:C,color:N,borderColor:v},placeholder:"seu@email.com",required:!0})]}),o.jsxs("label",{className:"text-sm font-medium",style:{color:w},children:["WhatsApp*",o.jsx("input",{type:"tel",value:u,onChange:e=>c(e.target.value),className:"mt-1 w-full rounded-md px-4 py-2 border-2 focus:outline-none transition placeholder:text-[#555] border-[#111] focus:border-[#111]",style:{background:C,color:N,borderColor:v},placeholder:"(99) 99999-9999",required:!0})]}),o.jsxs("label",{className:"text-sm font-medium",style:{color:w},children:["Instagram da empresa",o.jsx("input",{type:"text",value:m,onChange:e=>p(e.target.value),className:"mt-1 w-full rounded-md px-4 py-2 border-2 focus:outline-none transition placeholder:text-[#555] border-[#111] focus:border-[#111]",style:{background:C,color:N,borderColor:v},placeholder:"@suaempresa"})]}),f&&o.jsx("div",{className:"text-sm font-medium",style:{color:S},children:f}),y&&o.jsx("div",{className:"text-sm font-medium",style:{color:S},children:y}),o.jsx("button",{type:"submit",disabled:b,className:"mt-2 w-full rounded-md font-bold py-2 transition border-2 focus:outline-none shadow-md",style:{background:"linear-gradient(90deg, #84CC15 0%, #b6e35a 100%)",color:k,borderColor:S,transition:"all 0.2s"},onMouseOver:e=>{e.currentTarget.style.background="#111",e.currentTarget.style.color="#84CC15",e.currentTarget.style.borderColor="#84CC15"},onMouseOut:e=>{e.currentTarget.style.background="linear-gradient(90deg, #84CC15 0%, #b6e35a 100%)",e.currentTarget.style.color=k,e.currentTarget.style.borderColor=S},children:b?"Enviando...":"Enviar"})]})]})})};export{t as LeadFormModal};
